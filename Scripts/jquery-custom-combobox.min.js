(function(n){n.widget("custom.combobox",{_create:function(){this.wrapper=n("<span>").addClass("custom-combobox").insertAfter(this.element);this.element.hide();this._createAutocomplete();this._createShowAllButton()},_createAutocomplete:function(){var t=this.element.children(":selected"),i=t.val()?t.text():"";this.input=n("<input>").appendTo(this.wrapper).val(i).attr("title","").addClass("custom-combobox-input ui-widget ui-widget-content ui-state-default ui-corner-left").autocomplete({delay:0,minLength:0,source:n.proxy(this,"_source")}).tooltip({tooltipClass:"ui-state-highlight"});this._on(this.input,{autocompleteselect:function(n,t){t.item.option.selected=!0;this._trigger("select",n,{item:t.item.option})},autocompletechange:"_removeIfInvalid"})},_createShowAllButton:function(){var t=this.input,i=!1;n("<a>").attr("tabIndex",-1).attr("title","Show All Items").tooltip().appendTo(this.wrapper).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("custom-combobox-toggle ui-corner-right").mousedown(function(){i=t.autocomplete("widget").is(":visible")}).click(function(){(t.focus(),i)||t.autocomplete("search","")})},_source:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(t.term),"i");i(this.element.children("option").map(function(){var i=n(this).text();if(this.value&&(!t.term||r.test(i)))return{label:i,value:i,option:this}}))},_removeIfInvalid:function(t,i){if(!i.item){var r=this.input.val(),f=r.toLowerCase(),u=!1;(this.element.children("option").each(function(){if(n(this).text().toLowerCase()===f)return this.selected=u=!0,!1}),u)||(this.input.val("").attr("title",r+" didn't match any item").tooltip("open"),this.element.val(""),this._delay(function(){this.input.tooltip("close").attr("title","")},2500),this.input.autocomplete("instance").term="")}},_destroy:function(){this.wrapper.remove();this.element.show()}})})(jQuery);
//# sourceMappingURL=jquery-custom-combobox.min.js.map
