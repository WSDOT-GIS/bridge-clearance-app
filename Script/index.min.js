require(["esri/map","esri/config","esri/domUtils","esri/layers/FeatureLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/tasks/query","esri/InfoTemplate","esri/dijit/BasemapGallery","esri/dijit/Basemap","esri/dijit/BasemapLayer","esri/Color","esri/symbols/CartographicLineSymbol"],function(n,t,i,r,u,f,e,o,s,h,c,l){function p(n){var t=n.match(/(\d+)'\s*(?:(\d+(?:\.\d+)?)")?/i);if(!t)throw new Error("Invalid format.");this.feet=Number(t[1]);this.inches=t[2]?Number(t[2]):0}function g(n){var i=["<table class='bridge-info on-under-code-",n.attributes.on_under_code===1?"on":"under","'>"],t,r;for(t in n.attributes)n.attributes.hasOwnProperty(t)&&(r=n.attributes[t],i.push("<tr><th>",t.replace(/_/g," "),"<\/th><td>",r,"<\/td><\/tr>"));return i.push("<\/table>"),i.join("")}function d(n,t,i,r){var u=[n," < ",t.toWeirdoFormat()],e;return i&&(r?u.push(" AND SRID = '",i,"'"):u.push(" AND SRID LIKE '",i,"%'")),e=new f,e.where=u.join(""),e}var a,y,w,k="http://www.wsdot.wa.gov/geosvcs/ArcGIS/rest/services/Shared/WebBaseMapWebMercator/MapServer",b,v;t.defaults.io.proxyUrl="proxy/proxy.ashx";a=new n("map",{showAttribution:!0});a.addLayer(new u(k,{id:"wsdot"}));p.prototype.totalInches=function(){return this.feet*12+this.inches};p.prototype.totalFeet=function(){return this.feet+this.inches/12};p.prototype.toWeirdoFormat=function(){return this.feet*100+this.inches};b=new e("${bridge_name}",g);a.on("load",function(){var n=new l(l.STYLE_SOLID,new c([255,0,0,255]),10,l.CAP_ROUND,l.JOIN_MITER,5);y=new r("http://hqolymgis99t/arcgis/rest/services/Bridges/BridgeOnRecords/MapServer/0",{id:"bridge-on",mode:r.MODE_SELECTION,outFields:["*"],infoTemplate:b});y.setSelectionSymbol(n);w=new r("http://hqolymgis99t/arcgis/rest/services/Bridges/BridgeUnderRecords/MapServer/0",{id:"bridge-under",mode:r.MODE_SELECTION,outFields:["*"],infoTemplate:b});a.addLayer(y);a.addLayer(w)});v=new o({map:a,basemaps:[new s({id:"wsdot",title:"WSDOT",thumbnailUrl:"Images/WsdotBasemapThumbnail.jpg",layers:[new h({url:k})]})],basemapIds:["wsdot"]},"basemapGallery");v.startup();v.on("load",function(){v.select("wsdot");i.hide(v.domNode)});a.on("update-end",function(){i.hide(document.getElementById("mapProgress"))});a.on("update-start",function(){i.show(document.getElementById("mapProgress"))});document.getElementById("basemapsToggleButton").addEventListener("click",function(){i.toggle(v.domNode)});document.forms.clearanceForm.onsubmit=function(){var i,t,n,r,u;try{this.blur();i=this.clearance.value;t=Number(i);n;isNaN(t)?(n=new p(i),t=n.totalInches()):n=new p("0'"+t+'"');r=this.route.value;u=this.routeFilterType.value==="exact";n&&(y.selectFeatures(d("min_vert_deck",n,r,u)),w.selectFeatures(d("vert_clrnc_route_min",n,r,u)))}catch(f){console.error(f)}return!1};document.forms.clearanceForm.onreset=function(){y.clearSelection();w.clearSelection()}});
/*
//# sourceMappingURL=index.min.js.map
*/